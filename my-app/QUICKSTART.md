# ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

## 5 åˆ†é’Ÿå¿«é€Ÿå¼€å§‹

### 1. å…‹éš†å¹¶è¿›å…¥é¡¹ç›®
```bash
cd my-app
npm install
```

### 2. é…ç½® Supabase

#### è·å– Supabase API å¯†é’¥
1. ç™»å½• [Supabase Dashboard](https://app.supabase.com)
2. é€‰æ‹©ä½ çš„é¡¹ç›®
3. å·¦ä¾§èœå• â†’ Settings â†’ API
4. å¤åˆ¶ `Project URL` å’Œ `Service Role Key`

#### åˆ›å»ºæ•°æ®åº“è¡¨
åœ¨ Supabase SQL Editor è¿è¡Œï¼š

```sql
create table if not exists files (
  id bigint generated by default as identity primary key,
  name text not null,
  type text,
  path text not null,
  text text,
  created_at timestamptz default now()
);

create index if not exists idx_files_created on files(created_at);
```

#### åˆ›å»ºå­˜å‚¨ Bucket
1. å·¦ä¾§èœå• â†’ Storage
2. Create New Bucket â†’ åç§°: `files`
3. è®¾ç½®ä¸º Public

### 3. é…ç½®ç¯å¢ƒå˜é‡
åœ¨ `my-app/.env.local` åˆ›å»ºï¼š

```env
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
```

### 4. è¿è¡Œé¡¹ç›®
```bash
npm run dev
```

æ‰“å¼€ [http://localhost:3000](http://localhost:3000)

## åŠŸèƒ½ä½¿ç”¨

### ä¸Šä¼ æ–‡ä»¶
1. ç‚¹å‡» "ğŸ“ Choose File (PDF, MD, TXT)" æŒ‰é’®
2. é€‰æ‹© PDFã€Markdown æˆ– TXT æ–‡ä»¶
3. ç­‰å¾…ä¸Šä¼ å®Œæˆï¼Œæ–‡ä»¶å°†æ˜¾ç¤ºåœ¨å·¦ä¾§åˆ—è¡¨

### æŸ¥çœ‹æ–‡ä»¶
1. ç‚¹å‡»æ–‡ä»¶åæˆ– "View" æŒ‰é’®
2. ä½¿ç”¨é€‰é¡¹å¡åˆ‡æ¢:
   - PDF/Markdown: ç‚¹å‡» "Preview" æŸ¥çœ‹æ ¼å¼åŒ–å†…å®¹
   - æ‰€æœ‰æ–‡ä»¶: ç‚¹å‡» "Text" æŸ¥çœ‹åŸå§‹æ–‡æœ¬
3. ç‚¹å‡» "âœ•" å…³é—­è¯¦æƒ…é¡µ

### åˆ é™¤æ–‡ä»¶
1. åœ¨æ–‡ä»¶åˆ—è¡¨ä¸­æ‰¾åˆ°è¦åˆ é™¤çš„æ–‡ä»¶
2. ç‚¹å‡» "Delete" æŒ‰é’®
3. ç¡®è®¤åˆ é™¤

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆä¸Šä¼ æ˜¾ç¤º JSON é”™è¯¯?
A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹:
- Supabase ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®è®¾ç½®
- Storage bucket æ˜¯å¦åˆ›å»ºä¸”ä¸º Public
- `files` æ•°æ®åº“è¡¨æ˜¯å¦å­˜åœ¨

### Q: PDF é¢„è§ˆä¸æ˜¾ç¤º?
A: 
- ç¡®ä¿ Storage bucket æ˜¯ Public
- å°è¯•åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ PDF URL
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯

### Q: æœ¬åœ°å¼€å‘æ—¶å¦‚ä½•é‡ç½®æ•°æ®?
A: åœ¨ Supabase SQL Editor è¿è¡Œ:
```sql
-- åˆ é™¤æ‰€æœ‰æ–‡ä»¶
delete from files;

-- æ¸…ç©º Storage bucket (éœ€è¦åœ¨ Dashboard ä¸­æ‰‹åŠ¨æ“ä½œ)
```

## ç”Ÿäº§éƒ¨ç½²

### éƒ¨ç½²åˆ° Vercel

1. **æ¨é€åˆ° GitHub**
   ```bash
   git add .
   git commit -m "Initial commit"
   git push origin main
   ```

2. **è¿æ¥åˆ° Vercel**
   - è®¿é—® [vercel.com](https://vercel.com)
   - å¯¼å…¥ä½ çš„ GitHub ä»“åº“
   - é€‰æ‹© `my-app` ç›®å½•ä½œä¸º Root Directory

3. **é…ç½®ç¯å¢ƒå˜é‡**
   åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ï¼š
   - `SUPABASE_URL`
   - `SUPABASE_SERVICE_ROLE_KEY`

4. **éƒ¨ç½²**
   Vercel ä¼šè‡ªåŠ¨éƒ¨ç½²ï¼Œæˆ–æ‰‹åŠ¨ç‚¹å‡» "Deploy"

## é¡¹ç›®ç»“æ„ç®€ä»‹

```
my-app/
â”œâ”€â”€ pages/                # Next.js é¡µé¢å’Œ API è·¯ç”±
â”‚   â”œâ”€â”€ index.js         # ä¸»é¡µé¢ï¼ˆæ–‡ä»¶ç®¡ç†ç•Œé¢ï¼‰
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ files/       # æ–‡ä»¶ç®¡ç† API
â”‚       â””â”€â”€ summary.js   # æ‘˜è¦åŠŸèƒ½ï¼ˆé¢„ç•™ï¼‰
â”œâ”€â”€ lib/                 # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ supabaseServer.js # Supabase åˆå§‹åŒ–
â”œâ”€â”€ package.json         # é¡¹ç›®é…ç½®å’Œä¾èµ–
â””â”€â”€ README.md           # è¯¦ç»†æ–‡æ¡£
```

## éœ€è¦å¸®åŠ©?

- æŸ¥çœ‹è¯¦ç»† README: `cat README.md`
- é¡¹ç›®è§„æ ¼è¯´æ˜: `.github/SPEC.md`
- Supabase æ–‡æ¡£: https://supabase.com/docs
- Next.js æ–‡æ¡£: https://nextjs.org/docs
